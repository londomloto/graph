<!DOCTYPE html>
<html data-ng-app="app" data-ng-controller="AppController as vm" lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title data-ui-title>Easyflow</title>

    <link rel="stylesheet" type="text/css" href="assets/vendor/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="assets/vendor/roboto/roboto.css">
    <link rel="stylesheet" type="text/css" href="assets/vendor/ionicons/ionicons.css">
    <link rel="stylesheet" type="text/css" href="assets/vendor/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="assets/css/app.css">

    <link rel="stylesheet" type="text/css" href="../../css/graph.css">
    
</head>
<body data-ng-cloak>

    <div>
        <div id="aside" class="app-aside xs modal fade nav-dropdown">
            <div class="left navside dark dk" layout="column">
                <div class="navbar no-radius primary text-center">
                    <a class="navbar-brand">
                        easyflow
                    </a>
                </div>
                <div flex class="hide-scroll">
                    <div data-uipallet class="ui-pallet">
                        
                    </div>
                </div>
                <div class="b-t" flex-no-shrink></div>
            </div>
        </div>

        <div id="content" class="app-content box-shadow-z0" role="main">
            <div class="app-header box-shadow">
                <div class="navbar">
                    <a data-toggle="modal" data-target="#aside" class="navbar-item pull-left hidden-lg-up">
                        <i class="ion-navicon-round icon-md"></i>
                    </a>
                    <div class="ui-caption hidden-sm-down">
                        <p class="text-md m-b-0 _700 text-accent">{{ diagram.name }}</p>
                        <div class="_300 text-sm text-ellipsis" style="max-width: 340px;">{{ diagram.description }}</div>
                    </div>
                    <div class="ui-toolbar hidden-sm-down">
                        <a href="javascript:;" data-ng-click="open()" title="Open diagram"><i class="ion-folder"></i></a>
                    </div>
                    <div class="ui-toolbar hidden-sm-down">
                        <a href="javascript:;" data-ng-click="create()" title="New diagram"><i class="ion-android-add"></i></a>
                        <a href="javascript:;" data-ng-click="update()" title="Save diagram"><i class="ion-android-done"></i></a>
                    </div>
                    <div class="ui-toolbar">
                        <a data-uitool="panzoom" data-ng-click="activateTool('panzoom')" href="javascript:;" title="Activate hand tool"><i class="bpmn-icon-hand-tool"></i></a>
                        <a data-uitool="collector" data-ng-click="activateTool('collector')" href="javascript:;" title="Activate lasso tool"><i class="bpmn-icon-lasso-tool"></i></a>
                        <a data-uitool="linker" data-ng-click="activateTool('linker')" href="javascript:;" title="Activate link tool"><i class="bpmn-icon-connection-multi"></i></a>
                        <a href="javascript:;" data-ng-click="trash()" title="Delete selection"><i class="bpmn-icon-trash"></i></a>
                        <a href="javascript:;" data-ng-click="export()" title="Save as Image"><i class="ion-ios-printer-outline"></i></a>
                        <a href="javascript:;" data-ng-click="config()" title="Editor config"><i class="ion-ios-gear-outline"></i></a>
                    </div>
                </div>
            </div>
            <div class="app-body">
                <div data-uipaper class="ui-paper"></div>
            </div>
        </div>
    </div>

    <!-- MODALS -->
    <div data-uimodal="create-diagram" class="modal fade animate">
        <div class="modal-dialog zoom">
            <div class="modal-content">
                <div class="modal-header">
                    <h4>Create diagram</h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label>Diagram name</label>
                        <input name="diagram_name" type="text" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>Sort description</label>
                        <textarea name="diagram_desc" class="form-control"></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button data-click="createDiagram()" class="btn primary">Save Diagram</button>
                    <button data-ng-click="hideModal('create-diagram')" class="btn white">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div data-uimodal="open-diagram" class="modal fade animate">
        <div class="modal-dialog modal-lg zoom">
            <div class="modal-content">
                <div class="modal-header">
                    <h4>Open diagram</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-xs-6 col-sm-4 col-md-3" data-ng-repeat="item in diagrams track by item.id">
                            <div class="box dker">
                                <div class="box-header">
                                    <h3 class="_600">{{ item.name }}</h3>
                                    <small>Activity Diagram</small>
                                </div>
                                <div class="box-tool">
                                    <ul class="nav">
                                        <li class="nav-item inline">
                                          <a class="nav-link text-muted">
                                            <i class="ion-close-round" style="font-size: 14px;"></i>
                                          </a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="box-body p-t-0">
                                    <button data-ng-click="openDiagram(item)" class="btn btn-xs btn-outline b-info text-info">Open diagram</button>
                                </div>
                              </div>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>    
    <!-- END OF MODALS -->

    <script>
        var graphConfig = {
            base: '../../'
        }
    </script>

    <script src="../../vendor/jquery/jquery.min.js"></script>
    <script src="../../vendor/lodash/lodash.min.js"></script>
    <script src="../../vendor/interact/interact.min.js"></script>
    <script src="assets/vendor/tether/tether.min.js"></script>
    <script src="assets/vendor/bootstrap/js/bootstrap.js"></script>
    <script src="assets/vendor/angular/angular.min.js"></script>
    
    <script src="../../src/poly.js"></script>
    <script src="../../src/core.js"></script>
    <script src="../../src/util.js"></script>

    <script src="../../src/lang/class.js"></script>
    <script src="../../src/lang/error.js"></script>
    <script src="../../src/lang/event.js"></script>
    <script src="../../src/lang/point.js"></script>
    <script src="../../src/lang/line.js"></script>
    <script src="../../src/lang/curve.js"></script>
    <script src="../../src/lang/bbox.js"></script>
    <script src="../../src/lang/path.js"></script>
    <script src="../../src/lang/matrix.js"></script>

    <script src="../../src/collection/point.js"></script>
    <script src="../../src/collection/vector.js"></script>
    <script src="../../src/collection/shape.js"></script>
    <script src="../../src/collection/tree.js"></script>

    <script src="../../src/dom/element.js"></script>

    <script src="../../src/svg/vector.js"></script>
    <script src="../../src/svg/ellipse.js"></script>
    <script src="../../src/svg/circle.js"></script>
    <script src="../../src/svg/rect.js"></script>
    <script src="../../src/svg/path.js"></script>
    <script src="../../src/svg/polyline.js"></script>
    <script src="../../src/svg/polygon.js"></script>
    <script src="../../src/svg/group.js"></script>
    <script src="../../src/svg/text.js"></script>
    <script src="../../src/svg/image.js"></script>
    <script src="../../src/svg/line.js"></script>
    <script src="../../src/svg/paper.js"></script>

    <script src="../../src/registry/vector.js"></script>
    <script src="../../src/registry/link.js"></script>
    <script src="../../src/registry/shape.js"></script>
    <script src="../../src/registry/pallet.js"></script>

    <script src="../../src/layout/layout.js"></script>
    
    <script src="../../src/router/router.js"></script>
    <script src="../../src/router/directed.js"></script>
    <script src="../../src/router/orthogonal.js"></script>

    <script src="../../src/link/link.js"></script>
    <script src="../../src/link/directed.js"></script>
    <script src="../../src/link/orthogonal.js"></script>
    
    <script src="../../src/util/sweeplink.js"></script>

    <script src="../../src/plugin/plugin.js"></script>
    <script src="../../src/plugin/manager.js"></script>
    <script src="../../src/plugin/definer.js"></script>
    <script src="../../src/plugin/reactor.js"></script>
    <script src="../../src/plugin/transformer.js"></script>
    <script src="../../src/plugin/animator.js"></script>
    <script src="../../src/plugin/resizer.js"></script>
    <script src="../../src/plugin/collector.js"></script>
    <script src="../../src/plugin/dragger.js"></script>
    <script src="../../src/plugin/dropper.js"></script>
    <script src="../../src/plugin/network.js"></script>
    <script src="../../src/plugin/history.js"></script>
    <script src="../../src/plugin/panzoom.js"></script>
    <script src="../../src/plugin/linker.js"></script>
    <script src="../../src/plugin/toolmanager.js"></script>
    <script src="../../src/plugin/pencil.js"></script>
    <script src="../../src/plugin/editor.js"></script>
    <script src="../../src/plugin/snapper.js"></script>
    <script src="../../src/plugin/toolpad.js"></script>
    
    <script src="../../src/shape/shape.js"></script>
    <script src="../../src/shape/activity/start.js"></script>
    <script src="../../src/shape/activity/final.js"></script>
    <script src="../../src/shape/activity/action.js"></script>
    <script src="../../src/shape/activity/router.js"></script>
    <script src="../../src/shape/activity/fork.js"></script>
    <script src="../../src/shape/activity/join.js"></script>
    <script src="../../src/shape/activity/lane.js"></script>
    <script src="../../src/shape/activity/pool.js"></script>

    <script src="../../src/data/exporter.js"></script>
    <script src="../../src/data/importer.js"></script>

    <script src="../../src/pallet/activity.js"></script>

    <script src="../../src/diagram/diagram.js"></script>
    <script src="../../src/diagram/activity.js"></script>
    
    <script src="../../src/popup/dialog.js"></script>

    <script src="app/app.js"></script>
    
</body>
</html>